{"version":3,"sources":["../src/disableButtons.js","../src/flatten.js","../node_modules/micromodal/dist/micromodal.min.js","../src/gameEnigne.js","../game.js"],"names":["disableButtons","elements","forEach","el","disabled","flatten","array","reduce","acc","Array","isArray","element","push","table","num","Number","arr","temp_arr","i","j","x","y","size","drawTable","ctx","strokeStyle","lineWidth","length","strokeRect","setImg","src","img","Image","drawCanvas","cnvId","fn","canvas","document","createElement","setAttribute","body","querySelector","appendChild","getContext","generateArrayImages","end","step","idx","Math","floor","random","pusher","isClick","height","width","splice","drawChests","e","drawImage","clickChest","ev","cnv","chestEmpty","chestDiamond","score","pageX","offsetLeft","pageY","offsetTop","rnd","font","xMin","xMax","yMin","yMax","gameEnd","clearRect","every","gameWin","clearChest","modal","text","MicroModal","init","show","title","innerHTML","game","finish","len","arrayOfImg","last","fillStyle","fillText","chest","arrayOfImages","onload","addEventListener","newScore","setTimeout","once","main","compl","querySelectorAll","tbl","dataset"],"mappings":"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","file":"game.ad75af61.map","sourceRoot":"..","sourcesContent":["const disableButtons = (elements) => {\r\n    elements.forEach((el) => {\r\n        el.disabled = true;\r\n    });\r\n};\r\n\r\nexport default disableButtons;","const flatten = (array) => array.reduce((acc, el) => {\r\n    if (Array.isArray(el)){\r\n        flatten(el).forEach(element => {\r\n            acc.push(element);\r\n        });\r\n        return acc;\r\n    }\r\n    return [...acc, el];\r\n},[]);\r\n\r\nexport default flatten;","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define(o):e.MicroModal=o()}(this,function(){\"use strict\"\nvar e=function(e,o){if(!(e instanceof o))throw new TypeError(\"Cannot call a class as a function\")},o=function(){function e(e,o){for(var t=0;t<o.length;t++){var i=o[t]\ni.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(o,t,i){return t&&e(o.prototype,t),i&&e(o,i),o}}(),t=function(e){if(Array.isArray(e)){for(var o=0,t=Array(e.length);o<e.length;o++)t[o]=e[o]\nreturn t}return Array.from(e)}\nreturn function(){var i=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],n=function(){function n(o){var i=o.targetModal,a=o.triggers,r=void 0===a?[]:a,s=o.onShow,l=void 0===s?function(){}:s,c=o.onClose,d=void 0===c?function(){}:c,u=o.openTrigger,f=void 0===u?\"data-micromodal-trigger\":u,h=o.closeTrigger,v=void 0===h?\"data-micromodal-close\":h,g=o.disableScroll,m=void 0!==g&&g,b=o.disableFocus,y=void 0!==b&&b,w=o.awaitCloseAnimation,k=void 0!==w&&w,p=o.debugMode,E=void 0!==p&&p\ne(this,n),this.modal=document.getElementById(i),this.config={debugMode:E,disableScroll:m,openTrigger:f,closeTrigger:v,onShow:l,onClose:d,awaitCloseAnimation:k,disableFocus:y},r.length>0&&this.registerTriggers.apply(this,t(r)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return o(n,[{key:\"registerTriggers\",value:function(){for(var e=this,o=arguments.length,t=Array(o),i=0;i<o;i++)t[i]=arguments[i]\nt.forEach(function(o){o.addEventListener(\"click\",function(){return e.showModal()})})}},{key:\"showModal\",value:function(){this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(\"is-open\"),this.setFocusToFirstNode(),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.onShow(this.modal)}},{key:\"closeModal\",value:function(){var e=this.modal\nthis.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener(\"animationend\",function o(){e.classList.remove(\"is-open\"),e.removeEventListener(\"animationend\",o,!1)},!1):e.classList.remove(\"is-open\")}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var o=document.querySelector(\"body\")\nswitch(e){case\"enable\":Object.assign(o.style,{overflow:\"initial\",height:\"initial\"})\nbreak\ncase\"disable\":Object.assign(o.style,{overflow:\"hidden\",height:\"100vh\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),e.preventDefault())}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.maintainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var e=this.modal.querySelectorAll(i)\nreturn Object.keys(e).map(function(o){return e[o]})}},{key:\"setFocusToFirstNode\",value:function(){if(!this.config.disableFocus){var e=this.getFocusableNodes()\ne.length&&e[0].focus()}}},{key:\"maintainFocus\",value:function(e){var o=this.getFocusableNodes()\nif(this.modal.contains(document.activeElement)){var t=o.indexOf(document.activeElement)\ne.shiftKey&&0===t&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||t!==o.length-1||(o[0].focus(),e.preventDefault())}else o[0].focus()}}]),n}(),a=null,r=function(e,o){var t=[]\nreturn e.forEach(function(e){var i=e.attributes[o].value\nvoid 0===t[i]&&(t[i]=[]),t[i].push(e)}),t},s=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal v0.3.1: ❗Seems like you have missed %c'\"+e+\"'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'+e+'\"></div>'),!1},l=function(e){if(e.length<=0)return console.warn(\"MicroModal v0.3.1: ❗Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'),!1},c=function(e,o){if(l(e),!o)return!0\nfor(var t in o)s(t)\nreturn!0}\nreturn{init:function(e){var o=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),i=[].concat(t(document.querySelectorAll(\"[\"+o.openTrigger+\"]\"))),a=r(i,o.openTrigger)\nif(!0!==o.debugMode||!1!==c(i,a))for(var s in a){var l=a[s]\no.targetModal=s,o.triggers=[].concat(t(l)),new n(o)}},show:function(e,o){var t=o||{}\nt.targetModal=e,!0===t.debugMode&&!1===s(e)||(a=new n(t),a.showModal())},close:function(){a.closeModal()}}}()})\n","import flatten from './flatten.js';\r\nimport MicroModal from '../node_modules/micromodal/dist/micromodal.min.js';\r\n/**\r\n * \r\n * @param {int} num is a level of complexity\r\n */\r\nconst table = (num) => {\r\n    num = new Number(num) + 1;\r\n    const arr = new Array();\r\n    let temp_arr = new Array();\r\n\r\n    for(let i = 1; i < num; i++) {\r\n        for (let j = 1; j < num; j++) {\r\n            temp_arr.push({x: j*60, y: i*60, size: 50});\r\n        }\r\n        arr.push(temp_arr);\r\n        temp_arr = [];\r\n    }\r\n\r\n    return flatten(arr);\r\n};\r\n\r\nconst drawTable = (ctx, table, size) => {\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineWidth = 1;\r\n    for (let i = 0; i < table.length; i++) {\r\n        const el = table[i];\r\n        ctx.strokeRect(el.x,el.y, size, size);\r\n    }\r\n};\r\n\r\nexport const setImg = (src) => {\r\n    const img = new Image();\r\n    img.src = src;\r\n    return img;\r\n};\r\n/**\r\n * \r\n * @param {string} cnvId is id of canvas\r\n * @param {array:objects} table is array of objects\r\n * @param {function} fn is get a `game`\r\n */\r\nconst drawCanvas = (cnvId, table, fn, size) => {\r\n    const canvas = document.createElement('canvas');\r\n    canvas.setAttribute('id', cnvId);\r\n    canvas.setAttribute('width', 900);\r\n    canvas.setAttribute('height', 450);\r\n    const body = document.querySelector('#body');\r\n    body.appendChild(canvas);\r\n\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    drawTable(ctx, table, size);\r\n\r\n    return fn(canvas,ctx, table, 2, size, table.length);\r\n};\r\n\r\n\r\n/**\r\n * \r\n * @param {array} table is array of objects\r\n * @param {int} end last value\r\n * @param {array} arr is array of uniq table\r\n */\r\n\r\nconst generateArrayImages = (table, end, arr, step) => {\r\n    if (table.length === 0) {\r\n        return arr;\r\n    }\r\n\r\n    if (step === 0) {\r\n        const idx = Math.floor(Math.random() * table.length);\r\n        const pusher = table[idx];\r\n        arr.push({x: pusher.x, y: pusher.y, isClick: false, height: 50, width: 50});\r\n        table.splice(idx, 1);\r\n    }\r\n\r\n    const idx = table.length > 1 ? Math.floor(Math.random() * table.length) : 0;\r\n    const pusher = table[idx];\r\n    arr.push({x: pusher.x, y: pusher.y, isClick: false, height: 50, width: 50});\r\n    table.splice(idx, 1);\r\n\r\n    return arr;\r\n};\r\n\r\nexport const drawChests = (ctx, arr, img, size) => {\r\n        arr.forEach(e => {\r\n            ctx.drawImage(img, e.x, e.y, size, size);\r\n        });\r\n\r\n    return arr;\r\n};\r\n\r\nexport const clickChest = (ev, arr, cnv, ctx,size, chestEmpty, chestDiamond, score) => {\r\n        const x = ev.pageX - cnv.offsetLeft;\r\n        const y = ev.pageY - cnv.offsetTop;\r\n        const rnd = Math.floor(Math.random() * 100);\r\n\r\n        ctx.font='20px Segeo UI';\r\n        for(let i = 0; i < arr.length; i++) {\r\n            const el = arr[i];\r\n            let [xMin, xMax, yMin, yMax] = [el.x, el.x + el.width, el.y, el.y + el.height];\r\n            if ((x > xMin && x < xMax) && (y > yMin && y < yMax) ) {\r\n                if(arr[i]['isClick'] === true) {\r\n                    gameEnd(score);\r\n                }\r\n\r\n                if (rnd > 50) {\r\n                    score += 1;\r\n                    ctx.clearRect(el.x, el.y,size, size);\r\n                    ctx.drawImage(chestDiamond,el.x, el.y, size, size);\r\n                    arr[i]['isClick'] = true;\r\n\r\n                    // ctx.fillText('lasdfoajsfdasjdfiasdf', 50,50, 100);\r\n\r\n                    if (arr.every(e => e.isClick === true)) {\r\n                        gameWin(score);\r\n                    }\r\n                } else {\r\n                    ctx.clearRect(el.x, el.y,size, size);\r\n                    ctx.drawImage(chestEmpty,el.x, el.y, size, size);\r\n                }                \r\n                break;\r\n            }\r\n        }\r\n        return score;\r\n};\r\n\r\nexport const clearChest = (ctx,arr) => {\r\n    arr.forEach((el) => {\r\n        ctx.clearRect(el.x, el.y, el.width, el.height);\r\n    });\r\n};\r\n\r\n\r\nconst modal = (score, text) => {\r\n    MicroModal.init();\r\n    MicroModal.show('modal-1');\r\n    const title = document.querySelector('.modal__title');\r\n    title.innerHTML = text;\r\n    const el = document.querySelector('.modal__p');\r\n    el.innerHTML = `Ваш счёт: ${score}`;\r\n};\r\n\r\nconst gameEnd = (score) => {\r\n    modal(score, 'Очень жаль');\r\n};\r\n\r\nconst gameWin = (score) => {\r\n    modal(score, 'Поздравляем');\r\n};  \r\n\r\nexport {table, drawCanvas, generateArrayImages};","import disableButtons from './src/disableButtons.js';\nimport {table, drawCanvas, generateArrayImages as arrGenerator, drawChests, clickChest, clearChest, setImg} from './src/gameEnigne.js';\n/**\n * \n * @param {string} cnv is id of canvas\n * @param {array:objects} table is array of objects. ex: {x, y, width, height, isCLick}\n * @param {int} start ???\n * @param {int} finish is the next element \n * @param {int} size is a size of image, blocks\n * @param {array:objects} arrayOfImg is a uniq array of table\n */\n\nconst game = (cnv,ctx, table, finish = 3, size, len, arrayOfImg = [], step = 0, score = 0, last) => {\n    ctx.font = '16px Segeo UI';\n    ctx.fillStyle = 'white';\n    ctx.fillText(`Ваш счёт: ${last}`,20,20);\n    ctx.fillStyle = 'black';\n    ctx.fillText(`Ваш счёт: ${score}`, 20,20);\n\n    const chest = setImg('images/chest-close.png');\n    const chestEmpty = setImg('images/chest-empty.png');\n    const chestDiamond = setImg('images/chest-ok.png');\n\n    const arrayOfImages = arrGenerator(table, finish, arrayOfImg, step);\n        chest.onload = () => {\n            drawChests(ctx,arrayOfImages,chest, size);\n        };\n\n\n    cnv.addEventListener('click', (e) => {\n        const newScore =  clickChest(e, arrayOfImages, cnv,ctx, size, chestEmpty, chestDiamond, score);\n        \n        setTimeout(() => {\n            clearChest(ctx,arrayOfImages);\n        }, 400);\n\n        finish += finish > len ? 0 : 1;\n\n        setTimeout(() => {\n            game(cnv, ctx, table, finish, size, len, arrayOfImages, 1, newScore, score);\n        },500);\n\n    }, {once: true});\n};\n\n/**\n * \n * @param {string} cnvId is id of canvas\n */\nconst main = (cnvId, size) => {\n    const compl = document.querySelectorAll('button');\n    compl.forEach((el) => {\n        el.addEventListener('click', () => {\n            const tbl = table(el.dataset.compl);\n            disableButtons(compl);\n            drawCanvas(cnvId, tbl, game, size);\n        });\n    });\n};\n\nmain('#cnv', 50);\n"]}